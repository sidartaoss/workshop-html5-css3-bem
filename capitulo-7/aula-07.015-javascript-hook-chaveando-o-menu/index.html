<!-- 
  Aula 07.015. Javascript Hook: Chaveando o Menu.

1. Agora, a gente vai implementar o chaveamento desse menu lateral esquerdo a partir desse botao de 3 barras.

2. E, para isso, a gente vai usar um pouquinho de Javascript, mas temos que falar que o foco deste curso nao eh nada de Javascript, iremos colocar um codigo, explicar como funciona, mas pode ser que, se nunca programamos em uma linguagem de programacao, pode-se ter um pouquinho de dificuldade, mas nao assusta nao, porque sao 4 linhas de codigo apenas, eh bem simples mesmo. 

3. Vamos la. Nos iremos criar uma pasta aqui no projeto chamada javascripts. E aqui, no index.html, la no final do arquivo, nos vamos abrir uma tag <script>, fecha-la, </script>, e colocar src="javascripts/app.js", o nome de arquivo que nos iremos criar, na verdade, dentro da pasta javascripts.

<script src="javascripts/app.js"></script>

4. Geralmente, o javascript a gente coloca no final da pagina, porque, na renderizacao da pagina, o script pode deixar a renderizacao da pagina mais lenta, entao, o correto, geralmente, a nao ser em raras excecoes, eh colocar sempre os scripts que sao usados no final da pagina, mas antes de fechar o body. 

5. Aqui, em index.html, logico, nao tem nada, mas so para nos vermos, dentro do app.js, agora, se nos colocarmos uma funcao alert('Ola'), o alert eh uma funcao que a gente coloca um texto dentro dela e tem sempre que terminar com ponto e virgula, ;, entao, recarregando, aparece uma mensagem de 'Ola'.

6. Entao, a gente esta vendo que esta carregando o nosso arquivo de javascritp e esta funcionando. O que nos iremos fazer aqui, agora, eh criar aqui uma variavel alternador,

var alternador = 

, isso aqui esta indicando que a gente esta declarando uma variavel onde a gente vai guardar um objeto, uma instancia, ou seja, uma referencia desse botaozinho de 3 barras, etao, a gente usa isso aqui,

document.querySelector(),

entao, essa funcao, a gente usa uma funcao Javascript para a gente selecionar, ou seja, para a gente buscar, da mesma forma que o CSS tem os seletores, aqui tambem,

document.querySelector('.'), e, agora, nos queremos selecionar aquele botaozinho, o botao, ele eh o botao-chaveador, entao, fica, document.querySelector('.botao-chaveador');,

var alternador = document.querySelector('.botao-chaveador');

7. Feito isso, nos vamos pegar aqui,

alternador, 

esse alternador eh uma instancia, uma representacao desse botao chaveador, que a gente acabou de selecionar, nos pegamos-no e colocamos assim, 

alternador.onclick

, ou seja, nos vamos abribuir aqui a um evento de click, sempre que nos clicarmos ness botaozinho de 3 barras, nos vamos chamar uma funcao,

alternador.onclick = function() {
  
}

, ou seja, nos estamos atribuindo uma funcao ao evento de click do nosso botao botao-chaveador. Agora, nos vamos colocar aqui um alert 'clicou no bota', so para a gente ver se esta funcionando,

alternador.onclick = function() {
  alert('clicou no botao');
}

8. Okay, recarregamos a pagina e funcionou. Agora que esta funcionando o clique no botao, nos precisamos, quando clicar no botao, alternar o menu lateral esquerdo para oculto ou exibido.

9. Mas tem uma questao. Antes de fazer isso, nesse querySelector aqui, a gente esta colocando um nome de classe CSS de um bloco. Mas isso, embora funcione, nao eh considerado uma boa pratica, porque o nome do bloco, ele foi criado para estilizacao, foi criado para algo visual. O ideal, aqui, eh que a gente crie uma classe que seja so usada para isso, que seja so usada para a gente selecionar esse elemento no html e isso a gente da o nome de Javascript Hook, ou seja, um Gancho Javascript. 

10. Entao, tem algumas tecnicas, mas a mais usada hoje eh essa aqui, a gente coloca js, traco e um nome qualquer. Poderia ser qualquer nome, mas eh so uma convencao mesmo, js, mais traco, mais chaveador,

<button class="botao-chaveador  js-chaveador"></button>

, ou js-botao-chaveador, pode ser ate o mesmo nome do bloco, nao tem problema, 

<button class="botao-chaveador  js-botao-chaveador"></button>

mas, agora, a gente sabe que esse nome de classe aqui, inclusive, quando a gente bate o olho nesse codigo, a gente sabe que as classes que inciam com js nao tem nenhuma estilizacao CSS, eh simplesmente a gente usar como Javascript Hook.

11. Entao, nos copiamos js-botao-chaveador e colamos no codigo Javascript,

var alternador = document.querySelector('.js-botao-chaveador');

, e, ao recarregarmos a pagina, vai continuar funcionando, a gente so usou essa melhor pratica, agora, de usar um Javascript Hook e nao usar o nome da classe CSS do nosso bloco.

12. Entao, vamos continuar. Agora, aqui no codigo CSS, a gente tem que fazer o seguinte, nos vamos criar uma variavel menu, 

var menu = 

, e nos queremos selecionar, aqui, o elemento de menu, ou seja, <ul class="menu">,

alternador.onclick = function() {
  var menu = document.querySelector('');
}

13. So que, novamente, nos nao vamos usar a classe menu, porque esse eh o nome do nosso bloco e nos vamos criar um Javascript Hook js-menu. Por que que nos queremos pegar esse menu? Porque nos iremos adicionar, aqui, a classe CSS para ocultar ou para exibir esse menu,

<ul class="menu  js-menu">

14. Entao, nos vamos pegar aqui,'.js-menu',

alternador.onclick = function() {
  var menu = document.querySelector('.js-menu');
}

, e, agora, menu., e nos precisamos adicionar uma classe CSS que exibe ou que oculta. Mas, antes, disso, a gente nao tem essa classe CSS. So para nos testarmos, inclusive, antes de terminarmos o Javascript, vamos criar aqui, se o menu, do jeito que esta aqui, esta aparecendo, na verdade o padrao eh nao aparecer, ja vamos arrumar isso antes, o padrao eh nao aparecer, quando nos estamos em um celular ou em um tablet, o padrao eh nao aparecer o menu, tem que clicar no botao de 3 barras paa aparecer, entao, ja vamos deixar o padrao arrumando no arquivo componentes.css. No bloco MENU, na Media Query de max-width, nos colocamos a propriedade display none,

@media(max-width: 991px) {
  .menu {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;

    display: none;
    width: 200px;
    padding: 20px;
    border-right: 1px solid #eee;

    background-color: #fbfbfb;
  }

  15. O padrao eh nao aparecer o menu e aparecer o botao de 3 barras, tem que clicar para visualizar, que eh  que a gente vai implemntar agora. 

  16. Na tela grande, ja aparece normal, mas, na tela pequena, o menu lateral nao aparece.

  17. Agora, o que a gente vai fazer eh criar uma classe CSS em pononentes.css de estado, no bloco MENU. Vamos chamar assim, .menu.esta-exibindo,

  .menu.esta-exibindo {
    
  }

  , ai, nos colocamos display block,

  .menu.esta-exibindo {
    display: block;  
  }

, ou seja, eh uma classe de estado. Em uma classe de estado, nos fazemos isso aqui, na verdade, nessa classe de estado, nos estados pegando uma ideia da metodologia SMACSS, o BEM nao usa dessa mesma forma, mas o instrutor acha bem legal a gente colocar, somente neste caso de classe de estado, a gente nao prefixa, porque a gente vai colocar assim,

            <ul class="menu  esta-exibindo  js-menu">

, a gente nao prefixa nada, porque eh so uma classe de estado, em ingles, ficaria is-showing, ou algo assim, sempre comeca com is, ou has, ou seja, esta, tem, algo assim, entao, nos vamos colocar em portugues mesmo, esta exibindo, mas nos podemos, se nos quisessemos colocar um modificador, talvez ficaria legal tambem,

.menu--exibindo {
  
}

, vamos deixar assim, com modificador, so para nos sabermos que assim tambem, com .menu.esta-exibindo o instrutor acharia que ficaria legal tambem, definindo uma classe de estado dessa forma. Vamos colocar um modificador, menu--exibindo, 

.menu--exibindo {
  display: block;
}

, Vemos que, ao recarregar a pagina, esta exibindo o menu lateral esquerdo. Agora, se nos removemos, 

<ul class="menu  js-menu">

, nao exibe mais o menu lateral esquerdo.

18. Sabendo disso, que tendo a classe .menu--exibindo, exibe o menu lateral esquerdo e, nao tendo a classe .menu--exibindo, nao exibe o menu lateral esquerdo, a gente ja tem o nosso estilo prontinho. O que a gente precisa fazer agora eh, no Javascript, fazer esse chaveamento, ou seja, se nao tiver essa classe CSS, coloca, se tiver, tira, ou seja, esse chaveamento.

19. Vamos, entao,

alternador.onclick = function() {
  var menu = document.querySelector('.js-menu');  
  menu.classList
}

, .classList nos retorna uma lista de classes, e nos invocamos tambem, .toggle(), 

alternador.onclick = function() {
  var menu = document.querySelector('.js-menu');  
  menu.classList.toggle('menu--exibindo');
}

ou seja, chaveie para mim, toggle() significa chavear, 'menu--exibindo'. Entao, agora, quando tiver a classe, vai remover, quando nao tiver, ele vai colocar a classe CSS.

20. Vejamos so, ao recarregarmos a pagina. Entao, nos clicamos no botaozinho e exibe o menu lateral, clicamos de novo e o botao some. Esta funcionando. E, quando a gente volta para o tamanho de tela grande, some o botaozinho de 3 barras. Na verdade, quando nos carregamos a pagina quando a tela esta grande ou pequena, nunca aparece menu. Quando a tela esta grande, nunca deve aparecer o menu lateral esquerdo, mas, quando a tela esta menor e nos clicamos no botao de 3 barras, o menu lateral esquerdo eh exibido. Entao, nos implementamos o noss botaozinho para chavear para exibir e para ocultar o menu lateral esquerdo.

21. Fim da Aula 07.015. Javascript Hook: Chaveando o Menu.

-->

<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>MyPilas</title>

    <link rel="stylesheet" href="css/bootstrap-grid.min.css">
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/componentes.css">
  </head>
  <body>

    <header class="layout-cabecalho">
      <div class="container">
        
        <nav class="navegacao">
          <img src="imagens/logo.png" width="100" height="35" alt="MyPilas">
          
          <div class="navegacao__menu">
            <!--Botão-->
            <button class="botao-chaveador  js-botao-chaveador"></button>
            
            <!--ul class="menu  esta-exibindo  js-menu"-->
            <!--ul class="menu  menu--exibindo  js-menu"-->
            <ul class="menu  js-menu">
              <li class="menu__item">
                <a href="#">Como funciona</a>
              </li>
              <li class="menu__item">
                <a href="#planos">Planos e preços</a>
              </li>
              <li class="menu__item">
                <a href="#">Contato</a>
              </li>
              <li class="menu__item  menu__item--botao">
                <a href="#" class="botao  botao--login">Login</a>
              </li>
            </ul>            
          </div>

        </nav>

      </div>
    </header>

    <section class="layout-chamada">
      <div class="container">
        <div class="chamada">
          <h1 class="chamada__titulo">As finanças da sua empresa em ordem</h1>
          <p class="chamada__subtitulo">Software de gestão simples e prático para pequenos negócios</p>
          <div class="chamada__acao">
            <a href="#planos" class="botao  botao--principal">Conheça os planos</a>
          </div>
        </div>
      </div>
    </section>

    <div class="layout-depoimento">

      <div class="container">

        <div class="depoimento">

          <blockquote>
            Eu tinha perdido totalmente o controle da minha empresa.
            Depois que comecei a usar o MyPilas, me sinto muito mais organizado e confiante no futuro.
          </blockquote>

          <div class="depoimento__autor">
            <img src="imagens/joao-da-silva.jpg" width="180" height="180" alt="João da Silva">
            <p>João da Silva</p>
          </div>         

        </div>

      </div>

    </div>

    <div id="planos" class="layout-planos">
      <div class="container">
        <div class="row">
          <!--div class="col-sm-4" style="margin-bottom: 40px"-->
          <div class="col-sm-4">

            <article class="plano">
              <h2 class="plano__cabecalho">Autônomo</h2>
              <div class="plano__preco">R$59/mês</div>
              <ul class="plano__caracteristicas">
                <li>Até <strong>2 usuários</strong></li>
                <li><strong>500MB</strong> de armazenamento</li>
                <li>Lançamentos ilimitados</li>
                <li>Acesso seguro</li>
                <li>Sem fidelidade</li>
              </ul>
              <footer class="plano__rodape">
                <a href="assine.html" class="botao  botao--assinar">Assinar</a>
              </footer>
            </article>

          </div>
          <div class="col-sm-4">
            <article class="plano plano--mais-popular">              
              <h2 class="plano__cabecalho">Micro</h2>
              <div class="plano__preco">R$89/mês</div>
              <ul class="plano__caracteristicas">
                <li>Até <strong>6 usuários</strong></li>
                <li><strong>1GB</strong> de armazenamento</li>
                <li>Lançamentos ilimitados</li>
                <li>Acesso seguro</li>
                <li>Sem fidelidade</li>
              </ul>
              <footer class="plano__rodape">
                <a href="assine.html" class="botao  botao--assinar">Assinar</a>
              </footer>
            </article>

          </div>
          <div class="col-sm-4  ultima-coluna">

            <article class="plano">
              <h2 class="plano__cabecalho">Pequena</h2>
              <div class="plano__preco">R$99/mês</div>
              <ul class="plano__caracteristicas">
                <li>Até <strong>10 usuários</strong></li>
                <li><strong>5GB</strong> de armazenamento</li>
                <li>Lançamentos ilimitados</li>
                <li>Acesso seguro</li>
                <li>Sem fidelidade</li>
              </ul>
              <footer class="plano__rodape">
                <a href="assine.html" class="botao  botao--assinar">Assinar</a>
              </footer>
            </article>

          </div>
        </div>
      </div>
    </div>

    <footer class="layout-rodape">
      <div class="container">
        &copy; MyPilas. Todos os direitos reservados.
      </div>
    </footer>

    <script src="javascripts/app.js"></script>

  </body>
</html>